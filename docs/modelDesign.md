# Node + Koa + GraphQL + React
- 实体：作者（昵称、手机、邮箱、密码、当前编辑器类型）、文章（MarkDown || 富文本编辑器）、文集（自己的文章）、专题（用于收录文章）、评论（https://www.zhihu.com/question/38959595）、
- 关系：1.收藏（文章n-n专题），2.关注（关注者n-n作者），3.喜欢（用户n-n文章）、4.关注（用户n-n文集）、5.关注（用户n-n专题）、6.评论（评论n-1文章）、7.评论（评论n-1评论）、8.拉黑（用户n-n被拉黑用户）、9.属于（文章n-1文集）、10.属于（文章n-1用户）、11.打赏（用户n-n被打赏者）
## 实体表：
1. 作者author：作者ID、头像、昵称、性别、个人简介、个人网站、微信二维码、创建时间、是否开启赞赏、赞赏描述
2. 设置表author_setting： 作者ID、密码、手机、邮箱、编辑器类型、接收邮件通知（所有，每天汇总未读、不接收）、积分、是否被禁用（不常用信息）
2. 文章article：文章ID、标题、作者ID、字数、阅读量、评论数、喜欢数、文章内容、是否已经发布、所属文集ID、创建日期、最后修改日期、最新评论日期、最新评论id、是否被举报（获取最新文章、获取热门文章：7日、30日）
3. 文集articles：文集ID、作者ID、封面、文集名称、简介、文章数、关注数、创建日期、是否公开
4. 专题subject：专题ID、作者ID、封面、专题名称、专题简介、收录文章数、关注数、创建日期、是否允许投稿、是否需要审核、是否被举报
5. 评论comment：评论ID、评论目标类型（文章 || 评论）、评论目标ID、作者ID、评论内容、评论日期、是否被举报
（后台管理数据待补充）
6. 系统消息sys_message：消息id、接收者id、消息类型、消息内容、消息link（点击link前往查看）、是否已读、创建时间
7. 图片picture：图片id、图片url、source类型（头像、文章图片、专题头像、二维码）
## 关系表
作者： 打赏作者、关注作者、拉黑作者、创建文章、喜欢文章、创建专题、关注专题、写评论、创建文集、关注文集
文集：收集文章
专题：收录文章
评论：文章、评论、文集、专题
### 一对多关系：
1. 创建文章
2. 创建专题
3. 写评论
4. 创建文集
5. 文集：收集文章
6. 评论：目标id、用户id、评论时间
### 多对多关系：
7. 关注follow：作者id、关注者id、是否关注关注着、关注时间
8. 喜欢文章like_article：文章id、喜欢者id、时间、未读
9. 关注专题follow_subject：专题id、关注者id、时间
10. 关注文集follow_article_group：文集id、关注者id、时间
11. 专题管理员subject_manager：作者id、专题id、时间
12. 拉黑black_list：作者、被拉黑者、时间
13. 投稿contribute：文章id、作者id、专题id、状态（是否通过审核）、是否已读、投稿时间
14. 打赏reword：作者id、被打赏者、积分数、是否已读、打赏时间
15. 举报illegality_report：作者id、被举报者类型（作者、文章、专题）、被举报者id、时间、举报信息
### 补充表
15. 简信聊天室letter_room：发送者id，接受者id、简信条数、未读条数、第一条未读消息id、最新简信id（同步更新两个）
16. 简信消息letter_message：简信id、发送者id、接受者id、内容、是否已读(针对接收者)、是否已删除（tinyint默认是3，有一个人删除就减1，等于1时从数据库删除）、时间









